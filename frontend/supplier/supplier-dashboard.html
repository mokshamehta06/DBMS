<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Dashboard - GST Billing</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div id="supplierDashboard" class="page active">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="navbar-brand">üì¶ Supplier Dashboard</div>
            <div class="navbar-user">
                <span id="supplierUsername">Supplier</span>
                <button class="btn-logout" onclick="logout()">Logout</button>
            </div>
        </nav>

        <!-- Main Container -->
        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <ul class="nav-menu">
                    <li><a href="#" onclick="showTab('createInvoice', event)" class="nav-item active">üìÑ Create Invoice</a></li>
                    <li><a href="#" onclick="showTab('viewCustomers', event)" class="nav-item">üë• View Customers</a></li>
                    <li><a href="#" onclick="showTab('products', event)" class="nav-item">üì¶ Products</a></li>
                    <li><a href="#" onclick="showTab('invoiceHistory', event)" class="nav-item">üìã Invoice History</a></li>
                    <li><a href="#" onclick="showTab('salesAnalytics', event)" class="nav-item">üìä Sales Analytics</a></li>
                    <li><a href="#" onclick="showTab('paymentTracking', event)" class="nav-item">üí∞ Payment Tracking</a></li>
                    <li><a href="#" onclick="showTab('profile', event)" class="nav-item">‚öôÔ∏è Profile Settings</a></li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <div class="alerts-container"></div>

                <!-- Create Invoice Tab -->
                <div id="createInvoice" class="tab-content active">
                    <h3>Create Invoice</h3>
                    <div class="form-section">
                        <div class="form-group">
                            <label>Customer:</label>
                            <select id="customerSelect">
                                <option value="">Select Customer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Invoice Date:</label>
                            <input type="date" id="invoiceDate">
                        </div>
                        <div class="form-group">
                            <label>Due Date:</label>
                            <input type="date" id="dueDate">
                        </div>
                        <button class="btn-secondary" onclick="addInvoiceItem()">+ Add Item</button>
                    </div>
                    <div id="invoiceItems" class="bill-items"></div>
                    <div class="form-section">
                        <div class="form-group">
                            <label>Discount (%):</label>
                            <input type="number" id="discountPercent" value="0" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label>Notes:</label>
                            <textarea id="invoiceNotes" placeholder="Add notes for invoice" rows="3"></textarea>
                        </div>
                        <button class="btn-primary" onclick="createInvoice()">Create Invoice</button>
                    </div>
                    <div id="invoicePreview" class="bill-preview"></div>
                </div>

                <!-- View Customers Tab -->
                <div id="viewCustomers" class="tab-content">
                    <h3>Customers</h3>
                    <div class="form-section">
                        <button class="btn-secondary" onclick="showAddCustomerForm()">+ Add New Customer</button>
                    </div>
                    <div id="addCustomerForm" class="form-section" style="display:none;">
                        <form id="customerForm" onsubmit="handleAddCustomer(event)">
                            <div class="form-group">
                                <label>Customer Name:</label>
                                <input type="text" id="customerName" placeholder="Enter customer name" required>
                            </div>
                            <div class="form-group">
                                <label>Email:</label>
                                <input type="email" id="customerEmail" placeholder="Enter email" required>
                            </div>
                            <div class="form-group">
                                <label>Phone:</label>
                                <input type="tel" id="customerPhone" placeholder="Enter phone number" required>
                            </div>
                            <div class="form-group">
                                <label>GST Number:</label>
                                <input type="text" id="customerGST" placeholder="Enter GST number (optional)">
                            </div>
                            <div class="form-group">
                                <label>Address:</label>
                                <textarea id="customerAddress" placeholder="Enter address" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn-primary">Add Customer</button>
                            <button type="button" class="btn-secondary" onclick="hideAddCustomerForm()">Cancel</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="customersTable">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>GST Number</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="customersTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Products Tab -->
                <div id="products" class="tab-content">
                    <h3>Products</h3>
                    <div class="form-section">
                        <form id="productForm" onsubmit="handleAddProduct(event)">
                            <div class="form-group">
                                <label>Product Name:</label>
                                <input type="text" id="productName" placeholder="Enter product name" required>
                            </div>
                            <div class="form-group">
                                <label>SKU:</label>
                                <input type="text" id="productSKU" placeholder="Enter SKU" required>
                            </div>
                            <div class="form-group">
                                <label>Price:</label>
                                <input type="number" id="productPrice" placeholder="Enter price" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>GST Rate (%):</label>
                                <select id="productGST">
                                    <option value="0">0%</option>
                                    <option value="5">5%</option>
                                    <option value="12">12%</option>
                                    <option value="18">18%</option>
                                    <option value="28">28%</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary">Add Product</button>
                        </form>
                    </div>
                    <div class="table-container">
                        <table id="productsTable">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>SKU</th>
                                    <th>Price</th>
                                    <th>GST</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Invoice History Tab -->
                <div id="invoiceHistory" class="tab-content">
                    <h3>Invoice History</h3>
                    <div class="table-container">
                        <table id="invoiceTable">
                            <thead>
                                <tr>
                                    <th>Invoice ID</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="invoiceTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Sales Analytics Tab -->
                <div id="salesAnalytics" class="tab-content">
                    <h3>Sales Analytics</h3>
                    <div class="form-section">
                        <div class="form-group">
                            <label>From Date:</label>
                            <input type="date" id="analyticsFromDate">
                        </div>
                        <div class="form-group">
                            <label>To Date:</label>
                            <input type="date" id="analyticsToDate">
                        </div>
                        <button class="btn-secondary" onclick="generateAnalytics()">Generate Analytics</button>
                    </div>
                    <div id="analyticsContainer"></div>
                </div>

                <!-- Payment Tracking Tab -->
                <div id="paymentTracking" class="tab-content">
                    <h3>Payment Tracking</h3>
                    <div class="table-container">
                        <table id="paymentTable">
                            <thead>
                                <tr>
                                    <th>Invoice ID</th>
                                    <th>Customer</th>
                                    <th>Amount</th>
                                    <th>Paid</th>
                                    <th>Pending</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="paymentTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Profile Settings Tab -->
                <div id="profile" class="tab-content">
                    <h3>Profile Settings</h3>
                    <div class="form-section">
                        <form id="profileForm" onsubmit="handleProfileUpdate(event)">
                            <div class="form-group">
                                <label>Company Name:</label>
                                <input type="text" id="profileCompanyName" required>
                            </div>
                            <div class="form-group">
                                <label>Email:</label>
                                <input type="email" id="profileEmail" required>
                            </div>
                            <div class="form-group">
                                <label>GST Number:</label>
                                <input type="text" id="profileGST" required>
                            </div>
                            <div class="form-group">
                                <label>Phone:</label>
                                <input type="tel" id="profilePhone">
                            </div>
                            <div class="form-group">
                                <label>Address:</label>
                                <textarea id="profileAddress" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn-primary">Update Profile</button>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script src="js/supplier-dashboard.js"></script>
</body>
</html>

